# Database connection
# For local development with Docker Compose:
DATABASE_URL="postgresql://cloudify:cloudify123@localhost:5432/cloudify"

# For Docker container (postgres is the service name):
# DATABASE_URL="postgresql://cloudify:cloudify123@postgres:5432/cloudify"

# JWT Secret for session tokens (minimum 32 characters)
# Generate a secure secret for production: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-at-least-32-characters-long"

# NextAuth Configuration
# Generate a secret: openssl rand -base64 32
AUTH_SECRET="your-nextauth-secret-at-least-32-characters-long"
AUTH_URL="http://localhost:3000"

# GitHub OAuth (Create app at https://github.com/settings/developers)
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"

# GitHub Webhook Secret (for verifying webhook payloads)
# Generate: openssl rand -hex 32
GITHUB_WEBHOOK_SECRET="your-github-webhook-secret"

# ============ NOTIFICATIONS ============

# Email Provider - Resend (recommended)
# Get your API key at https://resend.com
RESEND_API_KEY="re_your-resend-api-key"

# Email Provider - SendGrid (alternative)
# Get your API key at https://sendgrid.com
# SENDGRID_API_KEY="SG.your-sendgrid-api-key"

# Default sender email
EMAIL_FROM="Cloudify <notifications@tranthachnguyen.com>"

# Slack Integration
# For Bot Token: Create a Slack App at https://api.slack.com/apps
# Required scopes: chat:write, chat:write.public
SLACK_BOT_TOKEN="xoxb-your-slack-bot-token"

# Discord Integration (configured per-project via webhook URLs)
# No global config needed - users add webhook URLs in project settings

# ============ ERROR TRACKING & MONITORING ============

# Sentry Error Tracking
# Get your DSN at https://sentry.io
SENTRY_DSN="https://your-public-key@sentry.io/project-id"

# Sentry API (for releases and deployments)
SENTRY_ORG="your-sentry-org"
SENTRY_AUTH_TOKEN="your-sentry-auth-token"

# Datadog Metrics & Monitoring
# Get your API keys at https://app.datadoghq.com/organization-settings/api-keys
DATADOG_API_KEY="your-datadog-api-key"
DATADOG_APP_KEY="your-datadog-app-key"
# Use datadoghq.eu for EU, datadoghq.com for US
DATADOG_SITE="datadoghq.com"

# ============ CLOUDFLARE INTEGRATION ============

# Cloudflare API Token (recommended)
# Create at https://dash.cloudflare.com/profile/api-tokens
# Required permissions: Zone:DNS:Edit, Zone:Zone:Read
CLOUDFLARE_API_TOKEN="your-cloudflare-api-token"

# Cloudflare Zone ID (optional - auto-detected from domain if not set)
# Find at: Cloudflare Dashboard > Your Site > Overview (right sidebar)
# CLOUDFLARE_ZONE_ID="your-zone-id"

# Alternative: Global API Key (not recommended, use API Token instead)
# CLOUDFLARE_EMAIL="your-email@example.com"
# CLOUDFLARE_API_KEY="your-global-api-key"

# ============ SSL / CERTIFICATE MANAGEMENT ============

# ACME/Let's Encrypt Configuration
# Email for Let's Encrypt account and certificate expiry notifications
ACME_EMAIL="admin@tranthachnguyen.com"

# Let's Encrypt environment: "production" or "staging"
# Use "staging" for testing to avoid rate limits
LETSENCRYPT_ENV="production"

# Certificate renewal threshold (days before expiry to renew)
CERTIFICATE_EXPIRY_THRESHOLD="30"

# SSL certificates directory
SSL_CERTS_DIR="/etc/letsencrypt/live"

# Certbot webroot for HTTP-01 challenges
CERTBOT_WEBROOT="/var/www/certbot"

# Use our ACME client (true) or legacy certbot CLI (false)
# ACME client supports DNS-01 challenges via Cloudflare
USE_ACME_CLIENT="true"

# ============ INFRASTRUCTURE ============

# Cloudify server IP (for DNS A records)
CLOUDIFY_SERVER_IP="192.168.0.203"

# Redis URL (optional - used for distributed rate limiting and caching)
# For local development with Docker Compose:
REDIS_URL="redis://localhost:6379"
# For Docker container:
# REDIS_URL="redis://redis:6379"

# ============ APPLICATION ============

# App version (used for Sentry releases, metrics tags)
APP_VERSION="1.0.0"

# Public app URL (used for notification links)
NEXT_PUBLIC_APP_URL="https://cloudify.tranthachnguyen.com"
